ITEM 7. Management's Discussion and Analysis of Financial Condition and Results of Operations
You should read the following discussion and analysis of our financial condition and results of operations together with the consolidated financial statements and related notes that are included elsewhere in this Annual Report on Form 10-K. This discussion contains forward-looking statements based upon current plans, expectations, and beliefs that involve risks and uncertainties. Our actual results may differ materially from those anticipated in these forward-looking statements as a result of various factors, including those set forth under “Risk Factors” and in other parts of this Annual Report on Form 10-K. Our fiscal year ends on December 31.
As used herein, "Fastly," "we," "our," "the Company" and similar terms include Fastly, Inc. and its subsidiaries, unless the context indicates otherwise.
Overview
Developers are reinventing the way we live, work, and play online. Yet they repeatedly encounter innovation barriers when delivering modern digital experiences. Expectations for digital experiences are at an all-time high; they must be fast, secure, and highly personalized. If they aren’t reliable, end-users simply take their business elsewhere. The challenge today is enabling developers to deliver a modern digital experience while simultaneously providing scale, security, and performance. We built our edge cloud platform to solve this problem.
The edge cloud is an emerging category of Infrastructure as a Service ("IaaS") that enables developers to build, secure, and deliver digital experiences, at the edge of the internet. This service represents the convergence of the Content Delivery Network ("CDN") with functionality that has been traditionally delivered by hardware-centric appliances such as Application Delivery Controllers ("ADC"), Web Application Firewalls ("WAF"), Bot Detection, and Distributed Denial of Service ("DDoS") solutions. It also includes the emergence of a new, but growing, edge computing market which aims to move compute power and logic as close to the end-user as possible. The edge cloud uses the emerging cloud computing, serverless paradigm in which the cloud provider runs the server and dynamically manages the allocation of machine resources. When milliseconds matter, processing at the edge is an ideal way to handle highly dynamic and time-sensitive data. The edge cloud complements data center, central cloud, and hybrid solutions.
Our mission is to fuel the next modern digital experience by providing developers with a programmable and reliable edge cloud platform that they adopt as their own.
Organizations must keep up with complex and ever-evolving end-user requirements. We help them surpass their end-users’ expectations by powering fast, secure, and scalable digital experiences. We built a powerful edge cloud platform, designed from the ground up to be programmable and support agile software development. We believe our platform gives our customers a significant competitive advantage, whether they were born into the digital age or are just embarking on their digital transformation journey. Our platform consists of four key components: a programmable edge, a software-defined modern network, safety in depth, and a philosophy of customer empowerment. Our programmable edge provides developers with real-time visibility and control, where they can write and deploy code in a serverless environment and to push application logic to the edge. It supports modern application delivery processes, freeing developers to innovate without constraints. Our software-defined modern network is built for the software-defined future. It is powerful, efficient, and flexible, designed to enable us to rapidly scale to meet the needs of the most demanding customers and never be a barrier to their growth. Our 117 terabit software-centric network is located across 56 markets as of December 31, 2020. We define markets as unique metropolitan areas where we have one or more Points of Presence ("POPs"). Our safety in depth approach integrates security into multiple layers of development: architecture, engineering, and operations. That's why we invest in building security into the fabric of our platform, alongside performance. We provide developers and security operations teams with a fast, safe environment to create, build, and run modern applications.
Our platform provides developers and security operations teams with solutions that foster innovation without impacting performance. Finally, being developers ourselves, we empower customers to build great things while supporting their efforts through frictionless tools and a deeply technical support team that facilitates ongoing collaboration.
We serve both established enterprises, mid-market companies and technology-savvy organizations. Our customers represent a diverse set of organizations across many industries with one thing in common: they are competing by using the
power of software to build differentiation at the edge. With our edge cloud platform, our customers are disrupting existing industries and creating new ones. For example, several of our customers have reinvented digital publishing by connecting readers through subscription models to indispensable content, helping people understand the world through deeply reported independent journalism. Our customers’ software applications use our edge cloud platform to deliver consistently excellent online shopping experiences, fast and more secure financial transactions, and broadcast quality live streaming on any device. The range of applications that developers build with our edge cloud platform continues to expand rapidly.
So where do we go from here? Our vision is to create a trustworthy internet, where good thrives. We want all developers to have the ability to deliver the next transformative digital experience on a global scale. And because big ideas often start small, we love it when developers experiment and iterate on our edge cloud platform, coming up with exciting new ways to solve today’s complex problems.
We generate substantially all of our revenue from charging our customers based on their usage of our platform. Initially, customers typically choose to become platform customers, for which we charge fees based on their committed or actual use of our platform, as measured in gigabytes and requests. Many of our customers generate billings in excess of their minimum commitment. We also generate revenue from additional products as well as professional and other services, such as implementation. We charge a flat one-time or recurring fee for these additional products and services. Beginning in the fourth quarter of 2020, we also began offering subscriptions to access a unified security web application and application programming interface at a fixed rate.
We focus our direct selling efforts on medium to large organizations as well as smaller companies that are exhibiting significant growth. We engage with and support these customers with our field sales representatives, account managers, and technical account managers who focus on customer satisfaction and drive expansion of their usage of our platform and products. These teams work with technical and business leaders to help our customers’ end-users receive the best possible digital experience, while also lowering our customers’ total cost of ownership.
We are continuing to bring new innovations to our edge cloud platform and software-defined modern network architecture, and are seeing an increased interest from customers in our programmable edge computing solution. The success of these direct selling efforts is reflected by our 324 enterprise customers, which excludes Signal Sciences enterprise customers, as of December 31, 2020 that generated 89% of our total revenue for the trailing 12 months ended December 31, 2020.
Our usage-based revenue grows as our customers’ websites and applications deliver, process, and protect more traffic, as they adopt more features of our edge platform and as they more broadly adopt our platform across their organizations. A meaningful indicator of the increased activity from our existing customers is our Dollar-Based Net Expansion Rate ("DBNER"), Net Retention Rate ("NRR") and Last-Twelve Months Net Retention Rate ("LTM NRR"), metrics used in measuring the revenue growth from existing customers attributed to increased usage of our platform and purchase of additional services. Beginning in the fourth quarter of 2020, we also offer subscriptions to access a unified security web application and application programming interface at a fixed rate.
The financial results of Signal Sciences from the acquisition date on October 1, 2020 have been consolidated into our financial results for 2020 and the quarter ended December 31, 2020. We have excluded Signal Sciences from certain key metrics this quarter, including DBNER, NRR and LTM NRR. We intend to begin reporting these key metrics on a consolidated basis later on in 2021. Excluding Signal Sciences, our DBNER was 142.9% and 135.5% for the trailing 12 months ended December 31, 2020, and 2019, respectively. Excluding Signal Sciences, our NRR was 115% and 143.7% for the trailing twelve months ended December 31, 2020 and 2019, respectively. Excluding Signal Sciences, our LTM NRR was 137% and 131.6% for the trailing 12 months ended December 31, 2020 and 2019, respectively. We believe the LTM NRR is supplemental as it removes some of the volatility inherent in a usage-based business model from the measurement of the NRR metric.
We believe that an annual cohort analysis of Fastly's customers as depicted in the chart below, demonstrates our success in customer expansion. Once a customer begins to generate revenue for us, they tend to increase their usage of our platform, in particular in their second year. Customer accounts acquired in 2016, 2017, 2018, 2019 and 2020 are referred to as the 2016 Cohort, 2017 Cohort, 2018 Cohort, 2019 Cohort and 2020 Cohort, respectively. Our 2016 Cohort increased its revenue 2.3 times after its first year and has grown at approximately a 70% CAGR over the last four years. We have excluded Signal Sciences' customers from this cohort analysis.
In 2016, we generated $6.6 million of revenue from the 2016 Cohort. Revenue from the 2016 Cohort grew to $22.0 million in 2017, representing 233% year-over-year growth. In 2017, we generated $5.6 million of revenue from the 2017
Cohort. Revenue from the 2017 Cohort grew to $16.8 million in 2018, representing 200% year-over-year growth. In 2018, we generated $11.2 million of revenue from the 2018 Cohort. Revenue from the 2018 Cohort grew to $34.4 million in 2019, representing 207% year-over-year growth. In 2019, we generated $9.1 million of revenue from the 2019 Cohort. Revenue from the 2019 Cohort grew to $47.7 million in 2020, representing 424% year-over-year growth.
Summary of Revenue Generated by Customer Cohorts Over Time (in millions) (excludes Signal Sciences):
Customers that have negotiated contracts with us generate a substantial majority of our revenue. These customers typically purchase one or more products, for which we charge a monthly recurring or one-time fee depending on the products selected. Some of these customers also choose to purchase various levels of account management and enhanced customer support for a monthly fee. Typically, the term of these contracts is 12 months and includes a minimum monthly billing commitment in exchange for more favorable pricing terms. Many of these customers generate billings in excess of their minimum commitment. In addition, customers can sign up online by providing their credit card information and agreeing to a minimum monthly fee. Beginning in the fourth quarter of 2020, we also offer subscriptions to access a unified security web application and application programming interface at a fixed rate.
The timing of new revenue from our sales efforts is difficult to predict. The length of our sales cycle, from initial evaluation to payment, can range from several months to well over a year and can vary substantially from customer to customer. Similarly, the onboarding and ramping process with new enterprise customers can take several months, as well as existing enterprise customers with new business, can take several months and can be subject to delays for unanticipated reasons. For example, we experienced delays in the ramping of new traffic due to travel and data center restrictions in South Asia that delayed network build outs and the timing of customer code freezes, each affected in part by COVID-19-related issues.
We have achieved significant growth in recent periods. For the years ended December 31, 2020 and 2019, our revenue was $290.9 million and $200.5 million, respectively. Our 10 largest customers generated an aggregate of 38% and 29% of our
revenue in the trailing 12 months ended December 31, 2020 and 2019, respectively. We incurred a net loss of $95.9 million and $51.6 million in the years ended December 31, 2020 and 2019, respectively.
Acquisition of Signal Sciences Corp.
In October 2020, we acquired Signal Sciences, for an aggregate purchase price of $759.4 million, consisting of approximately $223.0 million in cash and 6,367,709 shares of our Class A common stock, including 896,499 shares which are restricted as they are subject to revesting conditions. The aggregate purchase price reflects the value of the net shares issued, which excludes the above mentioned shares that are restricted. We also assumed all unvested and outstanding equity awards of Signal Sciences’ continuing employees as converted into our equity awards at the conversion ratio provided in the Agreement and Plan of Reorganization (the "Merger Agreement"), which became options to purchase 251,754 shares of our Class A common stock, with a value of $20.7 million related to the assumed unvested equity awards that are subject to future service conditions.
We have included Signal Sciences in our results of operations as of the acquisition date, October 1, 2020. Because the acquisition of Signal Sciences occurred during the year ended December 31, 2020, the information presented in this section with respect to the year ended December 31, 2020 includes the contribution of Signal Sciences starting from October 1, 2020. The information with respect to the prior-year comparable periods relates to Fastly on a standalone basis. As a result, comparisons to the prior-year period may not be indicative of future results or future rates of growth.
Please refer to Note 5-Business Combination for further details on the acquisition of Signal Sciences.
Adjustments subsequent to the release of earnings on February 17, 2021
Subsequent to our announcement of earnings and issuance of our shareholder letter, furnished in a Form 8-K on February 17, 2021, as of December 31, 2020, we recorded an adjustment to our Goodwill and additional-paid in capital balances. Our determination to record the adjustment following our earnings announcement was the result of identifying an adjustment needed to the share value of awards issued on the Signal Sciences acquisition. The amounts reflected in our consolidated balance sheet as of December 31, 2020, reflect an increase in goodwill of $57.4 million and a corresponding increase in additional paid-in capital of $57.4 million to what was previously disclosed in our earnings announcement and shareholder letter.
Subsequent to our announcement of earnings and issuance of our shareholder letter, furnished in a Form 8-K on February 17, 2021, for the year ended December 31, 2020, we reclassified $1.7 million of finance lease payments from investing cash flows to financing cash flows. Our determination to record the reclassification following our earnings announcement was the result of identifying certain payments made relating to our network equipment leases should that be classified as financing cash outflows. The amounts reflected in our consolidated statement of cash flows reflect a decrease in cash used in investing activities of $1.7 million and an increase in cash used in financing activities of $1.7 million to what was previously disclosed in our shareholder letter for the year ended December 31, 2020. Separately, in our consolidated statement of cash flows, we also updated our supplemental disclosures around value of common stock issued and stock awards assumed in a business combination, which increased by $57.4 million to reflect the impact of the adjustment outlined in the paragraph above.
Factors Affecting Our Performance
Winning New Customers
We are focused on continuing to attract new customers. Our customer base includes both large, established enterprises that are undergoing digital transformation and emerging companies spanning a wide array of industries and verticals. In both instances, developers within these companies often use and advocate the adoption of our platform by their companies. We also benefit from word-of-mouth promotion across the broader developer community. We will continue to invest in our developer outreach, leveraging it as a cost-efficient approach to attracting new customers. With our newly expanded security portfolio from the acquisition of Signal Sciences and our edge computing capabilities we will increase our focus on brand awareness, public relations and analyst relations in efforts to help generate awareness and demand for these offerings. We also plan to dedicate significant resources to sales and marketing programs, including various online marketing activities as well as targeted account-based advertising.
This will require us to dedicate significant resources to further develop the market for our platform and differentiate our platform from competitive products and services. We will also need to expand, retain, and motivate our sales and marketing personnel in order to target our sales efforts at larger enterprises and senior management of these potential customers.
Uncertainty surrounding the EU-US Privacy Shield framework, which was invalidated by the Court of Justice of the EU in July 2020, could impact customer growth and acquisition for customers and potential customers conducting business in Europe. We have encountered and may continue to encounter heightened concerns relating to privacy from customers and potential customers conducting business in Europe since the invalidation of the EU-US Privacy Shield framework. Specifically, we have received more requests relating to EU privacy requirements, impacting the sales negotiation process, and had potential customers decline to do business with us due to privacy concerns related to updated interpretations of the laws applicable to transfers of personal data to the United States. For additional details, refer to "Item 1A.-Risk Factors".
Expanding within our Existing Customer Base
We emphasize retaining our customers and expanding their usage of our platform and adoption of our other products. Customers often begin with smaller deployments of our programmable edge platform and then expand their usage over time. In addition, our programmable edge platform includes a variety of other offerings, such as load balancing, shielding, web security, and WAF. As our customers mature, we assist them in expanding their use of our platform, including the use of additional offerings beyond edge cloud delivery. As enterprises grow and experience increased traffic, their needs evolve, leading them to find additional use cases for our platform and expand their usage accordingly. In addition, given that customer acquisition costs are incurred largely for acquiring and initial onboarding, we gain operating leverage to the extent that existing customers expand their use of our platform and products.
Our ability to retain our customers and expand their usage could be impaired for a variety of reasons, including a customer moving to another provider or reducing usage within the term of their contract to their minimum usage commitment. Even if our customers expand their usage of our platform, we cannot guarantee that they will maintain those usage levels for any meaningful period of time or that they will renew their commitments.
In addition, we cannot be certain what actions the U.S. or another country's government may take with respect to certain of our customers that may adversely affect our ability to do business with our customers that operate in China, target China as a market or that have strong business ties to China. For example, our largest customer during the year ended December 31, 2020 has strong business ties to China and significantly reduced its usage of our platform in the later part of 2020. We believe this was in response to various actions taken by the U.S. and other governments against them. Further reductions in this customer's traffic levels could have an additional negative impact on our business.
For additional details, refer to "Item 1A.-Risk Factors".
International Customer Growth
We intend to continue expanding our efforts to attract customers outside of the United States by augmenting our sales teams and strategically increasing our presence in the number of markets in select international locations. Excluding Signal Sciences, as of December 31, 2020 and 2019, we had 1,068 and 852 customers headquartered outside of the United States, respectively, representing 51% and 49% of our total customers as of December 31, 2020 and 2019, respectively.
Our international expansion, including our global sales efforts, will add increased complexity and cost to our business. This will require us to significantly expand our sales and marketing capabilities outside of the United States, as well as increase the number of markets we have a presence in around the world to support our customers. We have limited experience managing the administrative aspects of a global organization, and we have only recently begun to establish and operate offices in foreign countries, which could place a strain on our business and culture.
Investing in Sales and Marketing
Our customers have been pivotal in driving brand awareness and broadening our reach. While we continue to leverage our self-service approach to drive adoption by developers, we intend to continue to expand our sales and marketing efforts, with an increased focus on sales to enterprises globally. Utilizing our direct sales force, we have multiple selling points within organizations to acquire new customers and increase usage from our existing customers. We intend to increase our discretionary
marketing spend, including account based and brand spend, to drive the effectiveness of our sales teams. As a result, we expect our total operating expenses to increase as we continue to expand. Our investments in our sales and marketing teams are intended to help accelerate our sales, onboarding, and ramp cycles.
These efforts will require us to invest significantly in financial and other resources. Furthermore, we believe that there is significant competition for sales personnel with the skills and technical knowledge that we require. Our ability to achieve significant revenue growth will depend, in large part, on our success in recruiting, training, and retaining sufficient numbers of sales personnel to support our growth.
Continued Investment in Our Platform and Network Infrastructure
We must continue to invest in our platform and network infrastructure to maintain our position in the market. We expect our revenue growth to be dependent on an expanding customer base and continued adoption of our edge cloud platform. In anticipation of winning new customers and staying ahead of our customers’ needs, we plan to continue to invest in order to expand the scale and capacity of our software-defined modern network, resulting in increased network service provider fees, which could adversely affect our gross margins if we are unable to offset these costs with revenue from new customers and increase revenue from existing customers. Our customers require constant innovation within their own organizations and expect the same from us. Therefore, we will continue to invest in resources to enhance our development capabilities and introduce new products and features on our platform. We believe that investment in research and development will contribute to our long-term growth but may also negatively impact our short-term profitability. For the years ended December 31, 2020 and 2019, our research and development expenses as a percentage of revenue was 26% and 23%, respectively. We may also seek to acquire or invest in businesses, products, or technologies that we believe could complement or expand our platform, enhance our technical capabilities, or otherwise offer growth opportunities. For example, on October 1, 2020, we acquired Signal Sciences, a security software company that provides protection from web, API, and mobile security threats.
Developers use our platform to build custom applications and require a state-of-the-art infrastructure to test and run these applications. We will continue to invest in our network infrastructure by strategically increasing our POPs. We also anticipate making investments in upgrading our technology and hardware to continue providing our customers a fast and secure platform. Our total investment in property and equipment for the years ended December 31, 2020 and 2019 were $49.0 million and $30.3 million, respectively, representing 17% and 15% of our revenue in such periods. We expect our investment in property and equipment to increase on an absolute basis and may increase as a percentage of revenue in future periods. Our gross margins and operating results are impacted by these investments. As of December 31, 2020, our network is located in 56 markets across 26 countries.
In the event that there are errors in software, failures of hardware, damages to a facility or misconfigurations of any of our services-whether caused by our products, third-party error, our own error, natural disasters, or security breaches-we could experience lengthy interruptions in our platform as well as delays and additional expenses in arranging new facilities and services. In addition, there can be no assurance that we are adequately prepared for unexpected increases in bandwidth demands by our customers, particularly when customers experience cyber-attacks. The bandwidth we have contracted to purchase may become unavailable for a variety of reasons, including service outages, payment disputes, network providers going out of business, natural disasters, networks imposing traffic limits, or governments adopting regulations that impact network operations.
Uncertainty of the Coronavirus (COVID-19) Pandemic
Our business and operations could be adversely affected by health epidemics, including the ongoing COVID-19 pandemic, impacting the markets and communities in which we, our partners and customers operate. In December 2019, a disease referred to as COVID-19 was first reported and has spread to many countries worldwide, including the United States, and was declared a pandemic.
The ongoing global COVID-19 pandemic has adversely impacted, and may continue to adversely impact, many aspects of our business. As certain of our customers or potential customers experience downturns or uncertainty in their own business operations and revenue resulting from the spread of COVID-19, they have and may continue to decrease or delay their technology spending, request pricing concessions or payment extensions, or seek renegotiation of their contracts. In addition, a portion of our revenue is related to usage of our platform in connection with live events, such as sporting events that have been or may be postponed or cancelled. While we initially saw an increase in usage of our platform following the implementation of preventative measures to contain or mitigate the outbreak of COVID-19, we cannot predict how usage levels will continue to be
impacted by these preventative measures. There is no assurance that customers will continue to use our platform, or to the same extent, after the COVID-19 pandemic begins to taper or has ended. As a result, it has been difficult to accurately forecast our revenues or financial results, especially given that the near and long term impact of the pandemic remains uncertain. Our results of operations could be materially below our forecasts, which could adversely affect our results of operations, disappoint analysts and investors, or cause our stock price to decline.
In response to the COVID-19 pandemic, many state, local, and foreign governments have put in place restrictions in order to control the spread of the disease. Such restrictions, or the perception that such restrictions could occur, have resulted in business closures, work stoppages, slowdowns and delays, work-from-home policies, travel restrictions, and cancellation or postponement of events, among other effects that impacted productivity and disrupted our operations and those of our partners and customers. For example, we experienced delays in the ramping of new traffic due to travel and data center restrictions in South Asia that delayed network build outs and the timing of customer code freezes, each affected in part due to COVID-19-related issues. In March 2020, we closed all of our offices, suspended non-essential travel, cancelled or postponed Fastly-sponsored in-person events, and we are not permitting in-person employee attendance at industry events or work-related meetings. We have instead shifted to hosting virtual events, including Altitude, our signature Fastly event. We may take further actions that alter our operations as may be required by federal, state, or local authorities, or which we determine are in our best interests. While much of our operations can be performed remotely, certain activities such as expanding and maintaining our network of POPs around the world often require personnel to be on-site, and our ability to carry out these activities have been, and may continue to be negatively impacted if our employees or local data center personnel are not able to travel. In addition, travel restrictions have affected our ability to conduct audits of our data centers and facilities, requiring us to use alternative procedures to the standard on-site visit. Any inability to complete these audits could affect our compliance certifications and cause customers to reduce or cease using our services. In addition, for activities that may be conducted remotely, there is no guarantee that we will be as effective while working remotely because our team is dispersed and many employees and their families have been negatively affected, mentally or physically, by the COVID-19 pandemic. Decreased effectiveness and availability of our team could harm our business. Moreover, our finance organization’s ability to ensure that we comply with the requirements of Section 404 may be impaired in the future, including the ability of our registered public accounting firm to issue an attestation report on management’s assessment of our internal control over financial reporting. Furthermore, we may decide to postpone or cancel planned investments in our business in response to changes in our business as a result of the spread of COVID-19, which may impact our ability to attract and retain customers and our rate of innovation, either of which could harm our business.
In addition, while the potential impact and duration of the COVID-19 pandemic on the global economy and our business in particular may be difficult to assess or predict, the pandemic has resulted in, and may continue to result in, significant disruption of global financial markets, and may reduce our ability to access capital, which could negatively affect our liquidity in the future.
We do not yet know the full extent of potential delays or impacts on our business, operations, or the global economy as a whole. While the spread of COVID-19 may eventually be contained or mitigated, there is no guarantee that a future outbreak of this or any other widespread epidemics will not occur, or that the global economy will recover, either of which could harm our business.
For additional details, refer to our risk factors included in Part I. Item 1A. of this Annual Report on Form 10-K.
Key Business Metrics
We regularly review a number of metrics, including the key metrics presented in the table below, to evaluate our business, measure our performance, identify trends affecting our business, prepare financial projections, and make strategic decisions. The calculation of the key metrics and other measures discussed below may differ from other similarly titled metrics used by other companies, securities analysts, or investors.
We recently completed the acquisition of Signal Sciences and are currently integrating our business operations. The financial results of Signal Sciences from the acquisition date on October 1, 2020 have been consolidated into our financial results for 2020 and the quarter ended December 31, 2020. We have provided separate Fastly (excluding Signal Sciences) and Signal Sciences customer count metrics, such as the total customer count and total enterprise customer count. Separately, we
have excluded Signal Sciences from certain key metrics this quarter, including DBNER, NRR and LTM NRR. We intend to begin reporting consolidated customer metrics later in 2021.
Number of Customers
We believe that the number of customers is an important indicator of the adoption of our platform. Our definition of a customer consists of identifiable operating entities with which we have a billing relationship in good standing, from which we recognized revenue during the period, and are active as of the end of the period. In addition to our paying customers, we also have trial, developer, nonprofit and open source program, and other non-paying accounts that are excluded from our customer count metric. Excluding Signal Sciences, as of December 31, 2020 and 2019, we had 2,084 and 1,743 customers, respectively. As of December 31, 2020, Signal Sciences had 280 total customers, some of which overlap with existing Fastly customers.
Number of Enterprise Customers
Historically our revenue has been driven primarily by a subset of customers who have leveraged our platform substantially from a usage standpoint. These enterprise customers are defined as customers with revenue in excess of $100,000 over the previous 12-month period. Excluding Signal Sciences, as of December 31, 2020, we had 324 enterprise customers which generated 89% of our revenue for the trailing 12 months ended December 31, 2020. As of December 31, 2019, we had 288 enterprise customers which generated 87% of our revenue for the trailing 12 months ended December 31, 2019. We believe the recruitment and cultivation of enterprise customers is critical to our long-term success. As of December 31, 2020, Signal Sciences had 78 enterprise customers, some of which overlap with existing Fastly enterprise customers. Signal Sciences enterprise customers are defined as customers that spend $100,000 or more on an annualized basis, in other words, spending $8,333.34 or more per month as of December 31, 2020.
Dollar-Based Net Expansion Rate ("DBNER") (Excludes Signal Sciences)
Our ability to generate and increase our revenue is dependent upon our ability to increase the number of new customers and usage of our platform and increase the purchase of additional products by our existing customers. We track our growth, in part, by measuring DBNER. Our DBNER increases when customers increase their usage of our platform or purchase additional products, and declines when they reduce their usage, benefit from lower pricing on their existing usage, or curtail their purchases of additional products. We believe DBNER is a key metric in measuring the long-term value of our customer relationships and our ability to grow our revenue through increased usage of our platform and purchase of additional products by our existing customers. However, our calculation of DBNER indicates only expansion among continuing customers and does not indicate any decrease in revenue attributable to former customers, which may differ from similar metrics of other companies.
We calculate DBNER by dividing the revenue for a given period from customers who remained customers as of the last day of the given period ("current period") by the revenue from the same customers for the same period measured one year prior ("base period"). The revenue included in the current period excludes revenue from (i) customers that churned after the end of the base period and (ii) new customers that entered into a customer agreement after the end of the base period. For example, to calculate our DBNER for the trailing 12 months ended December 31, 2020, we divide (i) revenue for the trailing 12 months ended December 31, 2020, from customers that entered into a customer agreement prior to January 1, 2020, and that remained customers as of December 31, 2020, by (ii) revenue for the trailing 12 months ended December 31, 2019 from the same set of customers.
For the trailing 12 months ended December 31, 2020 and 2019 our DBNER was 142.9% and 135.5%, respectively. We believe that an annual cohort analysis of our customers demonstrates our success in customer expansion. Once a customer begins to generate revenue for us, they tend to increase their usage of our platform, in particular in their second year. Customer accounts acquired in 2018, 2019, and 2020 are referred to as the 2018 Cohort, 2019 Cohort, and 2020 Cohort, respectively. As described above, our customers tend to increase their usage of our platform in their second year, which is typically followed by more modest increases in usage, if any, in ensuing years. For example, the DBNER for the 2018 Cohort was 310.6% for the year ended December 31, 2019. However, the DBNER for the 2018 Cohort was 163.2% for the year ended December 31, 2020, which generally represents their third year as a customer, depending on when they entered into a customer agreement. While DBNER may fluctuate from quarter to quarter based on, among other things, the timing associated with new customer accounts, we expect our DBNER to decrease as customers that have used our platform for more than two years become a larger portion of both our overall customer base and the revenue that we use to calculate DBNER.
We separately monitor customer retention and churn on an annual basis by measuring our annual revenue retention rate, which we calculate by multiplying the final full month of revenue from a customer that terminated its contract with us (a "Churned Customer") by the number of months remaining in the same calendar year ("Annual Revenue Churn"). The quotient of the Annual Revenue Churn from all of our Churned Customers divided by our annual revenue of the same calendar year is then subtracted from 100% to determine our annual revenue retention rate. We believe this calculation is helpful in that it is based on the amount of revenue that we would expect to have received in the remaining portion of a particular period had a customer not terminated its contract with us. It is not indicative of the actual revenue contribution from churned customers in past periods. By comparing this amount to actual revenue for the period, we are able to assess our ability to replace terminated revenue by generating revenue from new and continuing customers. Excluding Signal Sciences, our annual revenue retention rate for the years ended December 31, 2020 and 2019 was 99.0% and 99.3%, respectively.
Net Retention Rate ("NRR") and Last-Twelve Months Net Retention Rate ("LTM NRR") (Excludes Signal Sciences)
Our ability to generate and increase our revenue is also dependent upon our ability to retain our existing customers. In addition to measuring expansion using DBNER, NRR and LTM NRR also allow us to track customer retention which demonstrates the stickiness of our edge cloud platform.
Our NRR measures the net change in monthly revenue from existing customers in the last month of the period (the “current" period month) compared to the last month of the same period one year prior (the “prior" period month), and includes revenue contraction due to billing decreases or customer churn, revenue expansion due to billing increases, but excludes revenue from new customers. We believe the LTM NRR is supplemental as it removes some of the volatility inherent in a usage-based business model from the measurement of the NRR metric. We calculate Net Retention Rate by dividing the revenue from the current period month by the revenue in the prior period month. For the last month of the years ended December 31, 2020 and 2019 our NRR was 114.5% and 143.7%, respectively.
Our LTM NRR is intended to be supplemental to our NRR as we believe that it removes some of the volatility that is inherent in a usage-based business model. We calculate LTM NRR by dividing the total customer revenue for the prior twelve-month period (“prior 12-month period”) ending at the beginning of the last twelve-month period (“LTM period”) minus revenue contraction due to billing decreases or customer churn, plus revenue expansion due to billing increases during the LTM period from the same customers by the total prior 12-month period revenue. For the last month of the years ended December 31, 2020 and 2019 our LTM NRR was 136.5% and 131.6%, respectively.
Key Components of Statement of Operations
Revenue
We derive our revenue primarily from usage-based fees earned from customers using our platform. We also earn fixed-rate recurring revenue from certain products, services and subscriptions.
Our usage-based fees earned from customers using our platform are generally billed in arrears. Our security products are primarily annual subscriptions that are billed in advance. Many customers have tiered usage pricing which reflects discounted rates as usage increases. For most contracts, usage charges are determined on a monthly basis based on actual usage within the
month and do not impact usage charges within any other month. Our larger customers often enter into contracts that contain minimum billing commitments and reflect discounted pricing associated with such usage levels.
We define U.S. revenue as revenue from customers that have a billing address in the United States, and we define international revenue as revenue from customers that have a billing address outside of the United States. Our revenue has been and will continue to be impacted by new and existing customers’ usage of our products, international expansion, and the success of our sales efforts.
Cost of Revenue and Gross Margin
Cost of revenue consists primarily of fees paid for bandwidth, peering, and colocation. Cost of revenue also includes personnel costs, such as salaries, benefits, bonuses, and stock-based compensation for our customer support and infrastructure employees, and non-personnel costs, such as amortization of capitalized internal-use software development costs, depreciation of our network equipment and amortization of our intangible assets. Our arrangements with network service providers require us to pay fees based on bandwidth use, in some cases subject to minimum commitments, which may be underutilized. We expect our cost of revenue to continue to increase on an absolute basis and may increase as a percentage of revenue.
Our gross margin has been and will continue to be affected by a number of factors, including the timing and extent of our investments in our operations, our ability to manage our network service providers and cloud infrastructure-related fees, the timing of amortization of capitalized software development costs, depreciation of our network equipment, and the extent to which we periodically choose to pass on our cost savings from network optimization efforts to our customers in the form of lower usage rates.
Research and Development
Research and development expenses consist primarily of personnel costs, including salaries, benefits, bonuses, and stock-based compensation. Research and development expenses also include cloud infrastructure fees for development and testing, amortization of capitalized internal-use software development costs, and an allocation of our general overhead expenses. We capitalize the portion of our software development costs that meet the criteria for capitalization.
We continue to focus our research and development efforts on adding new features and products including new use cases, improving the efficiency and performance of our network, and increasing the functionality of our existing products. Over the long term we expect our research and development expenses to decrease as a percentage of our revenue. However, our research and development expenses may fluctuate as a percentage of our revenue from period to period due to the timing and extent of these expenses.
Sales and Marketing
Sales and marketing expenses consist primarily of personnel costs, including commissions for our sales employees, salaries, benefits, bonuses, and stock-based compensation. Sales and marketing expenses also include expenditures related to advertising, marketing, our brand awareness activities, costs related to our Altitude conferences, professional services fees, amortization of our intangible assets and an allocation of our general overhead expenses.
We focus our sales and marketing efforts on generating awareness of our company, platform and products, creating sales leads, and establishing and promoting our brand, both domestically and internationally. We plan to increase our investment in sales and marketing by hiring additional sales and marketing personnel, expanding our sales channels, driving our go-to-market strategies, building our brand awareness, and sponsoring additional marketing events. Over the long term, we expect our sales and marketing expenses to decrease as a percentage of our revenue. However, our sales and marketing expenses may fluctuate as a percentage of our revenue from period to period due to the timing and extent of these expenses.
General and Administrative
General and administrative expenses consist primarily of personnel costs, including salaries, benefits, bonuses, and stock-based compensation for our accounting, finance, legal, trust, human resources and administrative support personnel, and executives. General and administrative expenses also include costs related to legal and other professional services fees, sales and other taxes, depreciation and amortization, an allocation of our general overhead expenses, bad debt expense and
acquisition-related costs. We expect that we will incur costs associated with supporting the growth of our business, our operation as a public company, and to meet the increased compliance requirements associated with our international expansion.
Our general and administrative expenses include a significant amount of sales and other taxes to which we are subject based on the manner we sell and deliver our products. Historically, we have not collected such taxes from our customers and have therefore recorded such taxes as general and administrative expenses. We expect that these expenses will decline in future years as we continue to implement our sales tax collection mechanisms and start collecting these taxes from our customers.
Overall, we expect our general and administrative expenses to continue to increase on an absolute basis and may increase as a percentage of revenue in future periods. Over the long term, we expect our general and administrative expenses to decrease as a percentage of our revenue.
Income Taxes
Our income tax benefit is primarily the result of a reduction in the valuation allowance recorded against our net deferred tax assets. In connection with the acquisition of Signal Science, the Company recorded a net deferred tax liability which provides an additional source of taxable income to support the realization of the pre-existing deferred tax assets. Our income tax benefit is partially offset by income taxes from certain foreign jurisdictions where we conduct business and state minimum income taxes in the United States. We have a valuation allowance for deferred tax assets, including net operating loss carryforwards. We expect to maintain this valuation allowance for the foreseeable future.
Results of Operations
The following tables set forth our results of operations for the period presented and as a percentage of our revenue for that period.
__________
(1)Includes stock-based compensation expense as follows:
__________
* Columns may not add up to 100% due to rounding.
Revenue
2020 compared to 2019
Revenue was $290.9 million for the year ended December 31, 2020 compared to $200.5 million for the year ended December 31, 2019, an increase of $90.4 million, or 45%.
We recently completed the acquisition of Signal Sciences and are currently in the midst of integrating our business operations. The financial results of Signal Sciences have been consolidated into our financial results for 2020 and the quarter ended December 31, 2020. We have not included Signal Sciences in most of our key metrics this quarter and intend to report consolidated key metrics later in 2021. Excluding Signal Sciences, we had 2,084 customers and 324 enterprise customers as of December 31, 2020. We had 1,743 customers and 288 enterprise customers as of December 31, 2019. This represents an increase of 341, or 20%, in customers and 36, or 13%, in enterprise customers from December 31, 2019. As of December 31,
2020, Signal Sciences had 280 customers and 78 enterprise customers, some of which overlap with existing Fastly customers and enterprise customers.
Approximately 94% of our revenue in the year ended December 31, 2020 was driven by usage on our platform, primarily from existing customers, as revenue from new customers contributed less than 10% of our revenue, and includes revenue from Signal Sciences after the acquisition date. The proportion of the revenue contribution between new and existing customers is consistent with typical customer behavior as customers tend to contribute more revenue over time as their use of the platform increases. The remainder of our revenue was generated by our other products and services, including support and professional services.
U.S. revenue was $196.5 million and 68% of revenue for the year ended December 31, 2020, and $142.8 million and 71% of revenue for the year ended December 31, 2019. This represents an increase of $53.7 million, or 38%. International revenue was $94.3 million and 32% of revenue for the year ended December 31, 2020, and $57.6 million and 29% of revenue for the year ended December 31, 2019. This represents an increase of $36.7 million, or 64%.
Excluding Signal Sciences, we had 1,016 domestic customers and 1,068 international customers as of December 31, 2020. This is an increase in domestic customers of 125, or 14%, and an increase in international customers of 216, or 25%, compared to December 31, 2019.
2019 compared to 2018
Revenue was $200.5 million for the year ended December 31, 2019 compared to $144.6 million for the year ended December 31, 2018, an increase of $55.9 million, or 39%.
We had 1,743 customers and 288 enterprise customers as of December 31, 2019. We had 1,582 customers and 227 enterprise customers as of December 31, 2018. This was an increase of 161, or 10%, in customers and 61, or 27%, in enterprise customers from December 31, 2018.
Approximately 93% of our revenue in 2019 was driven by usage on our platform, primarily from existing customers, as revenue from new customers contributed less than 10% of our revenue. The proportion of the revenue contribution between new and existing customers is consistent with typical customer behavior as customers tend to contribute more revenue over time as their use of the platform increases. The remainder of our revenue was generated by our other products and services, including support and professional services.
U.S. revenue was $142.8 million and 71% of revenue for the year ended December 31, 2019. U.S. revenue was $110.8 million and 77% of revenue for the year ended December 31, 2018. This was an increase of $32.0 million, or 29%, from U.S. revenue for the year ended December 31, 2018. International revenue was $57.6 million and 29% of revenue for the year ended December 31, 2019. International revenue was $33.8 million and 23% of revenue for the year ended December 31, 2018. This was an increase of $23.9 million, or 71%, from international revenue for the year ended December 31, 2018.
We had 891 domestic customers and 852 international customers as of December 31, 2019. This was an increase in domestic customers of 30, or 3%, compared to December 31, 2018, and an increase in international customers of 131, or 18%, compared to December 31, 2018.
Cost of Revenue
2020 compared to 2019
Cost of revenue was $120.0 million for the year ended December 31, 2020 compared to $88.3 million for the year ended December 31, 2019, an increase of $31.7 million, or 36%. The increase in cost of revenue was primarily due to an increase in bandwidth costs of $12.5 million, an increase in colocation costs of $3.8 million, and an increase in other network costs of $2.4 million due to increased traffic on our platform. There was an increase in depreciation and amortization expense of $6.9 million as we continue to invest in our platform, which includes $2.5 million of amortization of intangible assets acquired from the Signal Sciences acquisition. There was also a $6.1 million increase in personnel costs, such as salaries, benefits, and stock-based compensation, due to the increased headcount to support the growth of our business, including an $0.8 million increase related to the increased headcount and personnel costs associated with the Signal Sciences acquisition. There was also an increase of $1.3 million in software costs. The increases were partially offset by a $1.3 million decrease due to an overall reduction in travel costs due to COVID-19.
2019 compared to 2018
Cost of revenue was $88.3 million for the year ended December 31, 2019 compared to $65.5 million for the year ended December 31, 2018, an increase of $22.8 million, or 35%. The increase in cost of revenue was due to an increase in bandwidth costs of $6.2 million, an increase of colocation costs of $3.9 million, and an increase in other network costs of $2.5 million due to increased traffic on our platform. Personnel costs, such a salaries, benefits, and stock-based compensation increased by $5.5 million due to an increase in headcount to support the growth of our business. Depreciation and amortization expense increased by $2.9 million due to increased investments in our platform. Travel costs increased by $0.7 million due to travel associated with the deployment of new POPs. Software license costs increased by $0.5 million.
Gross Profit and Gross Margin
2020 compared to 2019
Gross profit was $170.9 million for the year ended December 31, 2020 compared to $112.1 million for the year ended December 31, 2019, an increase of $58.7 million, or 52%. Gross margin was 59% for the year ended December 31, 2020 compared to 56% for the year ended December 31, 2019, an increase of 3%. The improvements to our gross profit and gross margin were due to the better optimization of our platform, such that our revenue from usage of our platform was outpacing the increase in associated costs of revenue. This improvement was offset by lower gross margins related to Signal Sciences, related to the impact of purchase accounting adjustments including a reduction of deferred revenue and amortization of intangible assets.
2019 compared to 2018
Gross profit was $112.1 million for the year ended December 31, 2019 compared to $79.1 million for the year ended December 31, 2018, an increase of $33.1 million, or 42%. The increase in gross profit is due to an increase in revenue from usage of our platform.
Gross margin was 56% for the year ended December 31, 2019 compared to 55% for the year ended December 31, 2018, an increase of 1%. The increase is due to better utilization of our platform.
Operating Expenses
Research and development-2020 compared to 2019
Research and development expenses were $74.8 million for the year ended December 31, 2020 compared to $46.5 million for the year ended December 31, 2019, an increase of $28.3 million, or 61%. This is primarily due to an increase of $31.0 million of personnel related costs due to an increase in headcount and an increase in stock-based compensation expense. The increase in personnel costs includes $3.9 million related to the increased headcount and personnel costs associated with the Signal Sciences acquisition. There was also a $0.7 million increase in data center costs, which was offset by an increase in the capitalization for internal-use software of $3.3 million. The increase is also partially offset by a $2.5 million decrease due to an overall reduction in travel costs due to COVID-19.
Research and development-2019 compared to 2018
Research and development expenses were $46.5 million for the year ended December 31, 2019 compared to $34.6 million for the year ended December 31, 2018, an increase of $11.9 million, or 34%. This is primarily due to an increase of $8.1 million of personnel related costs, such as salaries, benefits, and stock-based compensation, due to an increase in headcount and stock-based compensation expense. Software license costs increased by $1.6 million. Travel costs increased by $1.2 million. Facilities and information system costs increased by $0.9 million. These increases were offset by an increase in the capitalization for internal-use software of $1.2 million.
Sales and marketing-2020 compared to 2019
Sales and marketing expenses were $101.2 million for the year ended December 31, 2020 compared to $71.1 million for the year ended December 31, 2019, an increase of $30.1 million, or 42%. This is primarily due to an increase of $21.3 million of personnel related costs, such as salaries, sales commissions, benefits, and stock-based compensation, due to an increase in headcount and stock-based compensation expense. The increase in personnel costs includes $6.0 million related to the increased headcount and personnel costs associated with the Signal Sciences acquisition. We also recorded $4.8 million of stock-based compensation and $0.6 million of severance relating to an employee termination in the second quarter of 2020. The increase is also driven by $2.6 million of amortization of certain intangible assets acquired from the Signal Science acquisition, in addition to a $1.1 million increase in professional fees, a $0.8 million increase in software costs, and a $0.6 million increase in marketing costs. The increase is partially offset by a $2.7 million decrease due to an overall reduction in travel costs due to COVID-19.
Sales and marketing-2019 compared to 2018
Sales and marketing expenses were $71.1 million for the year ended December 31, 2019 compared to $50.1 million for the year ended December 31, 2018, an increase of $21.0 million, or 42%. This is primarily due to a $13.2 million increase in personnel related costs, such as salaries, sales commissions, benefits, and stock-based compensation, due to an increase in headcount, and an increase in stock-based compensation expense. Facilities and information costs increased by $2.4 million.
Marketing costs increased by $1.6 million. Professional services increased by $1.5 million. Travel costs increased by $1.3 million. Software licenses increased by $0.8 million.
General and administrative-2020 compared to 2019
General and administrative costs were $102.1 million for the year ended December 31, 2020 compared to $41.1 million for the year ended December 31, 2019, an increase of $61.0 million, or 148%. This is primarily due to an increase of $31.4 million of personnel related costs, such as salaries, benefits and stock-based compensation, due to an increase in headcount and stock-based compensation. The increase in personnel costs includes $12.7 million related to the increased headcount and personnel costs associated with the Signal Sciences acquisition. We also incurred $19.5 million of acquisition-related expenses. The increase is also driven by a $6.3 million increase in external professional services such as legal, accounting, and enterprise systems, and a $1.2 million increase in business insurance costs to support the growth of our business as a public company including our efforts to comply with the regulations of SOX. We also had a $1.4 million increase in bad debt expenses due to an increase in revenue and due to impacts of COVID-19 on certain customers. We also recorded a $1.2 million increase in uncollected sales tax reserve due to an increase in revenue, as well as a $1.0 million increase in software licenses. The increase is partially offset by a $1.0 million decrease due to an overall reduction in travel costs due to COVID-19, and a $0.9 million decrease in corporate and overhead costs.
General and administrative-2019 compared to 2018
General and administrative costs were $41.1 million for the year ended December 31, 2019 compared to $23.5 million for the year ended December 31, 2018, an increase of $17.6 million, or 75%. This is primarily due to an increase of $8.5 million of personnel related costs, such as salaries, benefits and stock-based compensation, due to an increase in headcount and an increase in stock-based compensation expense. The increase is also due to an increase of $2.6 million in external professional services such as legal, accounting, and enterprise systems, an increase of $2.1 million business insurance costs associated with becoming a public company, an increase of $1.9 million in transaction taxes as in the period the taxes were lower as they were net of a release of a reserve, and an increase of $1.2 million costs for software licenses, and an increase of $1.1 million in travel costs.
Other Income and Expense
Interest Income
2020 compared to 2019
Interest income was $1.6 million for the year ended December 31, 2020 compared to $3.3 million for the year ended December 31, 2019, a decrease of $1.7 million, or 50%. This decrease is due to a reduction in interest rates on our cash balances and investments portfolio.
2019 compared to 2018
Interest income was $3.3 million for the year ended December 31, 2019 compared to $0.9 million for the year ended December 31, 2018, an increase of $2.3 million, or 250%. This increase is due to interest income on the reinvestment of the proceeds raised from our initial public offering ("IPO") on May 17, 2019.
Interest Expense
2020 compared to 2019
Interest expense was $1.5 million for the year ended December 31, 2020 compared to $5.2 million for the year ended December 31, 2019, a decrease of $3.7 million, or 70%. This decrease is primarily due to the early payment of the $20.0 million outstanding loan on our Credit Facility in June 2019 that caused the acceleration of the amortization of debt issuance costs, thereby increasing interest expense in the year ended December 31, 2019. This decrease is also due to a decrease in average outstanding debt in 2020 compared to 2019.
2019 compared to 2018
Interest expense was $5.2 million for the year ended December 31, 2019 compared to $1.8 million for the year ended December 31, 2018, an increase of $3.4 million, or 189%. This increase is primarily due to the acceleration of the amortization of debt issuance costs due to the early payment of the $20.0 million outstanding loan on our Credit Facility as well as an increase in average outstanding debt.
Other income (expense), net
2020 compared to 2019
Other expense, net was $0.3 million for the year ended December 31, 2020 compared to $2.6 million for the year ended December 31, 2019, a decrease in other expense, net of $2.3 million, or (89)%. This decrease is primarily due to mark-to-market adjustments for warrant liabilities prior to the conversion to additional paid in capital upon the IPO in 2019.
2019 compared to 2018
Other expense, net was $2.6 million for the year ended December 31, 2019 compared to $0.7 million for the year ended December 31, 2018, an increase of $1.8 million, or 246%. This increase is primarily due to mark-to-market adjustments for warrant liabilities prior to the conversion to additional paid in capital upon the IPO.
Income Tax Expense (Benefit)
2020 compared to 2019
Income tax benefit was $11.5 million for the year ended December 31, 2020 compared to $0.5 million income tax expense for the year ended December 31, 2019, a decrease of $11.7 million or 2,433%. This decrease is primarily due to a tax benefit recognized related to the acquisition of Signal Sciences. Please refer to Note 12 - Income Taxes for further details.
2019 compared to 2018
Income tax expense was $0.5 million for the year ended December 31, 2019 compared to $0.2 million for the year ended December 31, 2018, an increase of $0.3 million or 166%. This increase is primarily due increase in taxes in our foreign jurisdictions.
Liquidity and Capital Resources
As of December 31, 2020, we had cash, cash equivalents, and marketable securities totaling $214.6 million. Our cash, cash equivalents, and marketable securities primarily consisted of bank deposits and money market funds held at major financial institutions and investment-grade commercial paper and corporate debt securities. As of December 31, 2020, our marketable securities balance includes $20.3 million of marketable securities classified as long term investments.
On May 21, 2019, upon the completion of our IPO, we received net proceeds of $192.5 million, after deducting underwriting discounts and commissions, from sales of 12,937,500 shares of our Class A common stock in the IPO. The net proceeds include additional proceeds of $25.1 million, net of underwriters' discounts and commissions, from the exercise of the underwriters' option to purchase an additional 1,687,500 shares of our Class A common stock.
On May 26, 2020, we completed a follow-on public offering in which we sold 6,900,000 shares of Class A common stock, which included 900,000 shares sold pursuant to the exercise by the underwriters of an option to purchase additional shares, at the public offering price of $41.50 per share. We received net proceeds of $274.9 million, after deducting underwriting discounts and commissions, from sales of our shares in the public offering.
To date, we have financed our operations primarily through equity issuances, payments received from customers, the net proceeds we received through sales of equity securities, and borrowings under our credit facilities. Our principal uses of cash in recent periods have been funding our operations and capital expenditures. We also enter into finance leases to finance our infrastructure assets in co-location facilities that we directly lease and operate.
We believe that our cash and cash equivalents balances, our credit facilities, and the cash flows generated by our operations will be sufficient to satisfy our anticipated cash needs for working capital and capital expenditures for at least the next 12 months. We have generated losses from operations in the past and expect to continue to incur operating losses for the foreseeable future due to the investments we intend to make and may require additional capital resources to execute strategic initiatives to grow our business.
Cash Collateralized Revolving Credit Agreement
In November 2019, we entered into a Revolving Credit Agreement for an aggregate commitment amount of $70.0 million with a maturity date of November 3, 2022 (the "Revolver"). The amount of borrowings available under the Revolving Credit Agreement at any time were collateralized by our cash. The interest rate associated with each advance under the Revolving Credit Agreement was equal to the sum of LIBOR for the applicable interest period plus 1.50%, which was a per annum rate based on outstanding borrowings. The commitment fee was 0.20% per annum based on the average daily unused amount of the commitment amount. Interest payments on outstanding borrowings were due on the last day of each interest period and payments for the commitment fee were due at the end of each calendar quarter.
In November 2020, we terminated the Revolving Credit Agreement. Please refer to Note 9 - Debt Instruments for details on the subsequent termination of our Revolving Credit Agreement.
On January 28, 2021, we entered into an additional finance lease agreement with the equipment provider for $2.0 million in network equipment at an annual interest rate of 4.89% over a term of three years. The agreement provides for a bargain purchase price at the end of the term. The amortization of leased assets is included in depreciation and amortization expense.
On February 16, 2021, we entered into a Senior Secured Credit Facilities Agreement ("Credit Agreement") with Silicon Valley Bank for an aggregate commitment amount of $100.0 million. The Credit Agreement bears interest at a rate per annum equal to the sum of LIBOR for the applicable interest period plus 1.75% - 2.00%, depending on the average daily outstanding balance of all loans and letters of credit under the Credit Agreement. Interest payments on outstanding borrowings are due on the last day of each interest period. The Credit Agreement has a commitment fee on the unused portion of the borrowing commitment, which is payable on the last day of each calendar quarter at a rate per annum of 0.20% - 0.25% depending on the average daily outstanding balance of all loans and letters of credit under the Credit Agreement. In addition, our Credit Agreement contains a financial covenant that requires us to maintain a consolidated adjusted quick ratio of at least 1:25 to 1:00 tested on a quarterly basis as well as a springing revenue growth covenant for certain periods if our consolidated adjusted quick ratio falls below 1.75 to 1:00 on the last day of any fiscal quarter.
Cash Flows
The following table summarizes our cash flows for the period indicated:
Cash Flows from Operating Activities
For the year ended December 31, 2020, cash used in operating activities consisted primarily of our net loss of $95.9 million adjusted for non-cash items, including $20.0 million of depreciation and amortization, $5.1 million of amortization related to acquired intangibles, $64.4 million of stock-based compensation expense, $21.8 million of lease amortization expense, amortization of deferred contract costs of $3.5 million and bad debt expense of $1.7 million. This was partially offset by $13.0 million in tax benefits related to release of valuation allowance related to deferred taxes associated with the Signal Science acquisition. With respect to changes in operating assets and liabilities, there was a decrease in accounts receivable of $9.3 million, primarily due to increased collections due to the growth of our business and the timing of cash receipts from certain of our larger customers, and $22.7 million in prepaid expenses and other assets due to pre-payments for SaaS licenses. We also had $18.3 million of operating lease payments. This was partially offset by an increase of $22.0 million in accounts payable, accrued expenses, and other liabilities due to timing of payments.
For the year ended December 31, 2019, cash used in operating activities consisted primarily of our net loss of $51.6 million adjusted for non-cash items, including $16.6 million of depreciation and amortization, $12.1 million of stock-based compensation expense, $2.3 million of amortization of deferred contract costs, $0.7 million of amortization of deferred rent, an increase in the fair value of our common stock warrants of $2.4 million, and amortization of debt issuance costs of $1.9 million. With respect to changes in operating assets and liabilities, there was an increase in accounts receivable of $12.8 million, primarily due to the growth of our business and the timing of cash receipts from certain of our larger customers, an increase in other long-term assets of $3.9 million due to the adoption of Accounting Standards Update No. 2014-09, Revenue from Contracts with Customers, and an increase of $2.7 million in prepaid expenses and other assets due to pre-payments for SaaS licenses.
For the year ended December 31, 2018, cash used in operating activities consisted primarily of our net loss of $30.9 million adjusted for non-cash items, including $13.4 million of depreciation and amortization, $4.1 million of stock-based
compensation expense, and an increase in our bad debt expense of $0.6 million. With respect to changes in operating assets and liabilities, accounts payable, accrued expenses, and other liabilities increased $4.7 million. This was partially offset by an increase in accounts receivable of $6.2 million and prepaid expenses and other assets of $2.3 million, primarily due to the growth of our business and the timing of cash receipts from certain of our larger customers, pre-payments for insurance, rent, and software licenses, as well as an increase in VAT receivable.
Cash Flows from Investing Activities
For the year ended December 31, 2020, cash used in investing activities was $275.0 million, primarily consisting of $269.1 million in purchases of marketable securities, $201.0 million of business acquisitions, net of cash acquired, $29.6 million of payments related to purchases of property and equipment to expand our network, $6.1 million of additions to capitalized internal-use software, and $1.8 million of purchases of intangible assets. This was offset by $232.0 million of maturities and sales of marketable securities.
For the year ended December 31, 2019, cash used in investing activities was $87.7 million, primarily consisting of $191.0 million in purchases of marketable securities, $14.6 million of payments related to purchases of property and equipment to expand our network, and $4.9 million of additions to capitalized internal-use software. This was offset by $123.4 million of maturities of marketable securities.
For the year ended December 31, 2018, cash used in investing activities was $47.1 million, primarily consisting of $62.7 million in purchases of marketable securities and $16.7 million of payments related to purchases of property and equipment to expand our network, offset by $35.2 million of maturities of marketable securities.
Cash Flows from Financing Activities
For the year ended December 31, 2020, cash provided by financing activities was $272.7 million, primarily consisting of $274.9 million in proceeds from our follow-on public offering, net of underwriting fees, $9.3 million in proceeds from the ESPP, and $15.3 million in proceeds from stock option exercises by our employees and directors. This was partially offset by $20.3 million of debt repayments, $5.8 million of finance lease liabilities repayments, and $0.7 million of payments of costs related to our follow-on public offering.
For the year ended December 31, 2019, cash provided by financing activities was $168.1 million, primarily consisting of $192.5 million in proceeds from our IPO, net of underwriting fees, $5.4 million in proceeds from the ESPP, $6.1 million in proceeds from stock option exercises by our employees and directors. This was partially offset by $29.1 million of net debt repayments, $5.5 million of payments of costs related to our IPO, and $1.4 million of finance lease liabilities repayments.
For the year ended December 31, 2018, cash provided by financing activities was $69.6 million, primarily consisting of $39.9 million of proceeds from our sales of Series F convertible preferred stock, net of issuance expenses, $28.3 million of net borrowings, $2.6 million in proceeds from stock option exercises by our employees, and $1.2 million of finance lease liabilities repayments.
Contractual Obligations and Other Commitments
The following table summarizes our non-cancelable contractual obligations as of December 31, 2020:
__________
(1) Operating lease obligations represent total future minimum rent payments under non-cancelable operating lease agreements, such as our facilities and colocation (i.e. data center) leases, net of sublease income of $1.2 million.
(2) Purchase obligations represent total future minimum payments under contracts with our cloud infrastructure provider, network service providers, and other vendors. Purchase obligations exclude agreements that are cancellable without penalty. Our purchase obligations exclude our operating lease commitments associated with our colocation arrangements which have been separately disclosed under our operating lease commitments.
(3) Finance lease obligations represents principal and interest payments under our networking equipment leases.
Off-Balance Sheet Arrangements
We have not entered into any off-balance sheet arrangements and do not have any holdings in variable interest entities.
Critical Accounting Policies and Estimates
We prepare our consolidated financial statements in accordance with U.S. GAAP. The preparation of our consolidated financial statements requires us to make estimates, judgments, and assumptions that affect the reported amounts of assets, liabilities, revenue, costs, expenses, and related disclosures. Actual results and outcomes could differ significantly from our estimates, judgments, and assumptions. To the extent that there are material differences between these estimates and actual results, our future financial statement presentation, financial condition, results of operations, and cash flows will be affected.
Revenue Recognition
Revenue is recognized upon transfer of control of promised products or services to customers in an amount that reflects the consideration we expect to receive in exchange for those products or services. The processing and recording of certain revenue requires a manual process, and therefore we use a complex set of procedures to generate complete and accurate data to record its revenue transactions. We enter into contracts that can include various combinations of products and services, each of which are distinct and accounted for as separate performance obligations. Revenue is recognized net of any taxes collected from customers, which are subsequently remitted to governmental authorities.
A performance obligation is a promise in a contract to transfer a distinct good or service to the customer and is the unit of account. Our contracts with customers often include promises to transfer multiple products and services to a customer. Determining whether products and services are considered distinct performance obligations that should be accounted for separately versus together may require significant judgment. For contracts with multiple performance obligations, we allocate the contract transaction price to each performance obligation using our estimate of the standalone selling price ("SSP") of each distinct good or service in the contract.
Judgment is required to determine the SSP for each distinct performance obligation. We analyze separate sales of our products and services as a basis for estimating the SSP of our products and services. We then use that SSP as the basis for allocating the transaction price when our product and services are sold together in a contract with multiple performance obligations. In instances where SSP is not directly observable, such as when we do not sell the product or service separately, we determine the SSP using information that may include market conditions and other observable inputs. We typically have more than one SSP for individual products and services due to the stratification of those products and services by customers and circumstances. In these instances, we may use information, such as geographic region and distribution channel, in determining the SSP.
The transaction price in a contract for usage-based services is typically equal to the minimum commit price in the contract less any discounts provided. The transaction price in a contract that does not contain usage-based services is equal to the total contract value. Because our typical contracts represent distinct services delivered over time with the same pattern of transfer to the customer, usage-based consideration primarily related to actual consumption over the minimum commit levels is allocated to the period to which it relates. The amount of consideration recognized for usage above the minimum commit price is limited to the amount we expect to be entitled to receive in exchange for providing services. We have elected to apply the practical expedient for estimating and disclosing the variable consideration when variable consideration is allocated entirely to a wholly unsatisfied performance obligation or to a wholly unsatisfied promise to transfer a distinct good or service that forms part of a single performance obligation from our remaining performance obligations under these contracts.
Performance obligations represent stand-ready obligations that are satisfied over time as the customer simultaneously receives and consumes the benefits provided by us. These obligations can be content delivery, security, subscription services, professional services, support, edge cloud platform services, and others. Accordingly, our revenue is recognized over time, consistent with the pattern of benefit provided to the customer over the term of the agreement.
At times, customers may request changes that either amend, replace, or cancel existing contracts. Judgment is required to determine whether the specific facts and circumstances within the contracts should be accounted for as a separate contract or as a modification.
In contracts where there are timing differences between when we transfer a promised good or service to the customer and when the customer pays for that good or service, we have determined our contracts do not include a significant financing component. We have also elected the practical expedient to not measure financing components for any contract where the timing difference is less than one year.
Stock-Based Compensation
We account for stock-based employee compensation plans under the fair value recognition and measurement provisions, which require all stock-based payments, including grants of stock options, restricted stock units ("RSUs"), restricted stock awards ("RSAs"), performance stock awards ("PSUs") and shares issued under our Employee Stock Purchase Plan ("ESPP") to be measured based on the grant-date fair value of the award and recognized as expense over the requisite service period, which is generally the vesting period of the respective award. We account for forfeitures as they occur.
The fair value of RSUs and RSAs granted to our employees and directors is based on the grant date fair value. The fair value of PSUs granted to our employees is based on the fair value determined when the performance metrics were set. The fair value of stock options granted to our employees and directors, and of the shares to be issued under our ESPP are based on the Black-Scholes option-pricing model. The determination of the fair value of a stock-based award is affected by the deemed fair value of the underlying stock price on the grant date, as well as assumptions regarding a number of other complex and subjective variables. These variables include the fair value of our common stock, the expected stock price volatility over the expected term of the options, stock option exercise and cancellation behaviors, risk-free interest rates, and expected dividends:
These assumptions and estimates are as follows:
•Fair Value of Common Stock. We use the market closing price of our Class A common stock, as reported on the New York Stock Exchange, for the fair value. Prior to our IPO, our board of directors considered numerous objective and subjective factors to determine the fair value of our common stock at each meeting at which awards are approved. These factors included, but were not limited to (i) contemporaneous third-party valuations of Common Stock; (ii) the rights and preferences of Series Preferred relative to Common Stock; (iii) the lack of marketability of Common Stock; (iv) developments in the business; and (v) the likelihood of achieving a liquidity event, such as an IPO or sale of the Company, given prevailing market conditions.
•Expected Term. The expected term represents the period that our stock-based awards are expected to be outstanding. The expected term assumptions were determined based on the vesting terms, exercise terms, and contractual lives of the options. The expected term was estimated using the simplified method allowed under Securities and Exchange Commission (SEC) guidance.
•Volatility. Since we do not have a long trading history of our common stock, the expected volatility is determined based on the historical stock volatilities of its comparable companies. Comparable companies consist of public companies in our industry, which are similar in size, stage of life cycle, and financial leverage. We intend to continue to apply this process using the same or similar public companies until a sufficient amount of historical information regarding the volatility of its share price becomes available, or unless circumstances change such that the identified companies are no longer similar to us, in which case, more suitable companies whose share prices are publicly available would be used in the calculation.
•Risk-free Interest Rate. The risk-free interest rate used in the Black-Scholes option pricing model is the implied yield available on U.S. Treasury zero-coupon issues with a remaining term equivalent to that of the options for each expected term.
•Dividend Yield. The expected dividend assumption is based on our current expectations of our anticipated dividend policy. We have no history of paying any dividends and therefore used an expected dividend yield of zero.
Valuation of Goodwill and Other Acquired Intangible Assets in Business Combination
Accounting for business combinations requires us to make significant estimates and assumptions, especially at the acquisition date with respect to tangible and intangible assets acquired and liabilities assumed. We use our best estimates and assumptions to accurately assign fair value to the tangible and intangible assets acquired and liabilities assumed at the acquisition date as well as the useful lives of those acquired intangible assets. Examples of critical estimates in valuing certain of the intangible assets and goodwill we have acquired include but are not limited to future expected cash flows from acquired developed technologies; the acquired company’s trade name, existing customer relationships and backlog. These estimates are inherently uncertain and unpredictable, and if different estimates were used the purchase price for the acquisition could be allocated to the acquired assets and liabilities differently from the allocation that we have made. Additionally, unanticipated events and circumstances may occur, which may affect the accuracy or validity of such assumptions, estimates or actual results.
The authoritative guidance allows a measurement period of up to one year from the date of acquisition to make adjustments to the preliminary allocation of the purchase price. As a result, during the measurement period we may record adjustments to the fair values of assets acquired and liabilities assumed, with the corresponding offset to goodwill to the extent that it identifies adjustments to the preliminary purchase price allocation. Upon conclusion of the measurement period or final determination of the values of the assets acquired and liabilities assumed, whichever comes first, any subsequent adjustments will be recorded to the Consolidated Statement of Operations.
Impairment of Goodwill, Intangible Assets and Other Long-Lived Assets
Goodwill is the amount by which the cost of acquired net assets in a business combination exceeds the fair value of the net identifiable assets on the date of purchase and is carried at its historical cost. We test goodwill for impairment on an annual basis or more frequently if events or changes in circumstances indicate that the asset might be impaired. We determined that we operate as one reporting unit and we perform our annual impairment test of goodwill as of October 31 and whenever events or circumstances indicate that the asset might be impaired.
Long-lived assets, including property and equipment and intangible assets, are reviewed for impairment whenever events or changes in circumstances, such as service discontinuance, technological obsolescence, significant decreases in our market capitalization, facility closures, or work-force reductions indicate that the carrying amount of the long-lived asset or asset group may not be recoverable. When such events occur, we compare the carrying amount of the asset or asset group to the undiscounted expected future cash flows related to the asset or asset group. If this comparison indicates that an impairment is present, the amount of the impairment is calculated as the difference between the carrying amount and the fair value of the asset or asset group.
Leases
We lease office space and data centers ("Colocation leases") under non-cancelable operating leases with various expiration dates through 2027. We also lease server equipment under non-cancelable operating finance leases with various expiration dates through 2024. We determine if an arrangement contains a lease at inception.
Operating lease right-of-use assets and lease liabilities are recognized at the present value of the future lease payments at commencement date. The interest rate implicit in our operating leases is not readily determinable, and therefore an incremental borrowing rate is estimated to determine the present value of future payments. The estimated incremental borrowing rate factors in a hypothetical interest rate on a collateralized basis with similar terms, payments, and economic environments. Operating lease right-of-use assets also include any prepaid lease payments and lease incentives.
Certain of the operating lease agreements contain rent concession, rent escalation, and option to renew provisions. Rent concession and rent escalation provisions are considered in determining the single lease cost to be recorded over the lease term. Single lease cost is recognized on a straight-line basis over the lease term commencing on the date we have the right to use the leased property. The lease terms may include options to extend or terminate the lease. We generally use the base, non-cancelable, lease term when recognizing the lease assets and liabilities, unless it is reasonably certain that the option will be exercised. Our lease agreements may contain variable costs such as common area maintenance, operating expenses or other
costs. Variable lease costs are expensed as incurred on the consolidated statements of operations. Our lease agreements generally do not contain any residual value guarantees or restrictive covenants.
We lease networking equipment from a third party, through equipment finance leases. These leases include a bargain purchase option, resulting in a full transfer of ownership at the completion of the lease term.
Operating leases are reflected in operating lease right-of-use assets, operating lease liabilities, and operating lease liabilities, non-current on our consolidated balance sheets. Finance leases are included in property and equipment, net, finance lease liabilities, and finance lease liabilities, non-current on our consolidated balance sheets.
Internal-Use Software Development Costs
Labor and related costs associated with internal-use software during the application development stage are capitalized. Capitalization of costs begins when the preliminary project stage is completed, management has committed to funding the project, and it is probable that the project will be completed and the software will be used to perform the function intended. Capitalization ceases at the point when the project is fully tested and substantially complete and is ready for its intended purpose. The capitalized amounts are included in property and equipment, net on the Consolidated Balance Sheets. We amortize such costs over the estimated useful life of the software; completed internal-use software that is used on our network is amortized to cost of revenue over its estimated useful life. Costs incurred during the planning, training, and post-implementation stages of the software development life-cycle are expensed as incurred.
Legal and Other Contingencies
From time to time, we have been and will continue to be subject to legal proceedings and claims. Periodically, we evaluate the status of each legal matter and assess our potential financial exposure. If the potential loss from any legal proceeding or litigation is considered probable and the amount can be reasonably estimated, we accrue a liability for the estimated loss. Significant judgment is required to determine the probability of a loss and whether the amount of the loss is reasonably estimable. The outcome of any proceeding is not determinable in advance. As a result, the assessment of a potential liability and the amount of accruals recorded are based only on the information available to us at the time. As additional information becomes available, we reassess the potential liability related to the legal proceeding or litigation, and may revise our estimates. Any revisions could have a material effect on our results of operations.
Please refer to Note 10-Commitments and Contingencies for discussion around our legal proceedings.
We conduct operations in many tax jurisdictions throughout the United States. In many of these jurisdictions, non-income-based taxes, such as sales and use and telecommunications taxes are assessed on our operations. We are subject to indirect taxes, and may be subject to certain other taxes, in some of these jurisdictions. Historically, we have not billed or collected these taxes and, in accordance with U.S. GAAP, we have recorded a provision for our tax exposure in these jurisdictions when it is both probable that a liability has been incurred and the amount of the exposure can be reasonably estimated. As a result, we have recorded a liability of $6.3 million as of December 31, 2020. These estimates are based on several key assumptions, including the taxability of our products, the jurisdictions in which we believe we have nexus and the sourcing of revenues to those jurisdictions. In the event these jurisdictions challenge our assumptions and analysis, our actual exposure could differ materially from our current estimates.
Recent Accounting Pronouncements
Please refer to Note 2-Summary of Significant Accounting Policies included in the Notes to Consolidated Financial Statements.